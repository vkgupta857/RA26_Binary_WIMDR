<!DOCTYPE html>
<html>
<head>
	<title></title>
    <link href="{{url_for('static',filename='css/bootstrap.min.css')}}" rel="stylesheet" type="text/css">
        <link href="{{url_for('static',filename='css/home.css')}}" rel="stylesheet" type="text/css">
        <script src="{{url_for('static',filename='js/jquerry-3.3.1.min.js')}}" type="text/javascript"></script>      
        <script src="{{url_for('static',filename='js/bootstrap.min.js')}}" type="text/javascript"></script>   
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>

   <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
   integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
   crossorigin=""></script>

   <style type="text/css">
   	#mapid {
   	 height: 500px;
   	 }
   </style>

</head>
<body>
    <center><div id="header">

</div></center>
<center><div id="navbar">
<ul>
<li><a href="index">Home</a></li>
<li><a href="upload">Upload</a></li>
<li><a href="view">View</a></li>

<li><a href="update">Update</a></li>

</ul>
</div></center>

<div class="block">
<span><h2>Map View of today</h2></span>
<span><img src="{{url_for('static',filename='image/red.png')}}" style="width: 20px; height: 20px;">High Waste</span>
<span><img src="{{url_for('static',filename='image/blue.png')}}" style="width: 20px; height: 20px;">Medium Waste</span>
<span><img src="{{url_for('static',filename='image/orange.png')}}" style="width: 20px; height: 20px;">Low Waste</span>
<span><img src="{{url_for('static',filename='image/purple.png')}}" style="width: 20px; height: 20px;">Not Resolved in 24 Hour</span>
<span><img src="{{url_for('static',filename='image/green.png')}}" style="width: 20px; height: 20px;">Resolved in 24 Hour</span>
 
 <span><a href="week">To Show Previous Week Map Click Here!</a></span>
   
<center><div id="mapid" style="height: 600px; width:80%;"></div></center>

 <center><p><h4>To view PiCharts Click Here</h4></p>
 <h4><a href="pichart">View PiChart</a></h4></center>

 </div> 
 <script type="text/javascript">
   const mymap = L.map('mapid').setView([23.1815,79.9864], 10);
   const attribution = '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';
   const tileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'
   const tiles= L.tileLayer(tileUrl,{attribution});
   tiles.addTo(mymap);

   var LeafIcon = L.Icon.extend({
    options: {
        iconSize:     [20, 40],
        iconAnchor:   [22, 94],
        popupAnchor:  [-3, -76]
    }
});
   var greenIcon = new LeafIcon({iconUrl:'{{url_for('static',filename='image/green.png')}}' });
    redIcon = new LeafIcon({iconUrl:'{{url_for('static',filename='image/red.png')}}' });
    orangeIcon = new LeafIcon({iconUrl:'{{url_for('static',filename='image/orange.png')}}' });
     blueIcon = new LeafIcon({iconUrl: '{{url_for('static',filename='image/blue.png')}}'});
      purpleIcon = new LeafIcon({iconUrl: '{{url_for('static',filename='image/purple.png')}}'});
    L.icon = function (options) {
    return new L.Icon(options);
};

var r={{a}};
var p={{b}};
var g={{c}};
var bl={{d}};
var o={{e}};
for(var i=0;i<r.length;i++){
  L.marker([r[i][0], r[i][1]], {icon: redIcon}).addTo(mymap);
}
for(var i=0;i<p.length;i++){
  L.marker([p[i][0], p[i][1]], {icon: purpleIcon}).addTo(mymap);
}
for(var i=0;i<g.length;i++){
  L.marker([g[i][0], g[i][1]], {icon: greenIcon}).addTo(mymap);
}
for(var i=0;i<bl.length;i++){
  L.marker([bl[i][0], bl[i][1]], {icon: blueIcon}).addTo(mymap);
}
for(var i=0;i<o.length;i++){
  L.marker([o[i][0], o[i][1]], {icon: orangeIcon}).addTo(mymap);
}

  

</script>

      

</body>
</html>
